<app-task-dashboard-page-header></app-task-dashboard-page-header>
<!-- Row -->
<div class="row">
    <div class="col-xl-2 col-lg-6 col-md-12">
        <div class="card">
            <a href="javascript:;">
                <div class="card-body text-center">
                    <span class="avatar avatar-lg bradius fs-20 bg-primary-transparent">125</span>
                    <h5 class="mb-0 mt-3">Total Projects</h5>
                </div>
            </a>
        </div>
    </div>
    <div class="col-xl-2 col-lg-6 col-md-12">
        <div class="card">
            <a href="javascript:;">
                <div class="card-body text-center">
                    <span class="avatar avatar-lg bradius fs-20 bg-orange-transparent">33</span>
                    <h5 class="mb-0 mt-3">Pending Projects</h5>
                </div>
            </a>
        </div>
    </div>
    <div class="col-xl-2 col-lg-6 col-md-12">
        <div class="card">
            <a href="javascript:;">
                <div class="card-body text-center">
                    <span class="avatar avatar-lg bradius fs-20 bg-secondary-transparent">56</span>
                    <h5 class="mb-0 mt-3">Ongoing Projects</h5>
                </div>
            </a>
        </div>
    </div>
    <div class="col-xl-2 col-lg-6 col-md-12">
        <div class="card">
            <a href="javascript:;">
                <div class="card-body text-center">
                    <span class="avatar avatar-lg bradius fs-20 bg-info-transparent">08</span>
                    <h5 class="mb-0 mt-3">Not Started Projects</h5>
                </div>
            </a>
        </div>
    </div>
    <div class="col-xl-2 col-lg-6 col-md-12">
        <div class="card">
            <a href="javascript:;">
                <div class="card-body text-center">
                    <span class="avatar avatar-lg bradius fs-20 bg-success-transparent">35</span>
                    <h5 class="mb-0 mt-3">Completed Projects</h5>
                </div>
            </a>
        </div>
    </div>
    <div class="col-xl-2 col-lg-6 col-md-12">
        <div class="card">
            <a href="javascript:;">
                <div class="card-body text-center">
                    <span class="avatar avatar-lg bradius fs-20 bg-danger-transparent">02</span>
                    <h5 class="mb-0 mt-3">Canceled Projects</h5>
                </div>
            </a>
        </div>
    </div>
</div>
<!-- End Row-->

<!-- Row -->
<div class="row">
    <div class="col-xl-12 col-md-12 col-lg-12">
        <div class="card">
            <div class="card-header  border-0">
                <h4 class="card-title">Recent Project Summary</h4>
                <div class="ms-auto">
                    <div class="input-group">
                        <input class="form-control" placeholder="Search....." type="text">
                        <span class="input-group-btn">
                            <button class="btn btn-light br-ts-0 br-bs-0">
                                <i class="fa fa-search"></i>
                            </button>
                        </span>
                    </div>
                </div>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-12 col-xl-7">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="form-label">From:</label>
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <div class="input-group-text">
                                                <i class="feather feather-calendar"></i>
                                            </div>
                                        </div>
                                        <input class="form-control fc-datepicker" placeholder="yyyy-mm-dd" value="12-02-2021" (click)="a.toggle()" name="dp" [(ngModel)]="model" ngbDatepicker #a="ngbDatepicker">
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="form-label">To:</label>
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <div class="input-group-text">
                                                <i class="feather feather-calendar"></i>
                                            </div>
                                        </div>
                                        <input class="form-control fc-datepicker" placeholder="yyyy-mm-dd" value="12-02-2021" (click)="b.toggle()" name="dp" [(ngModel)]="model1" ngbDatepicker #b="ngbDatepicker">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12 col-xl-3">
                        <div class="form-group">
                            <label class="form-label">Select Priority:</label>
                            <ng-select name="attendance" class="form-control custom-select" placeholder="Select Priority">
                                <ng-option value="1">High</ng-option>
                                <ng-option value="2">Medium</ng-option>
                                <ng-option value="3">Low</ng-option>
                            </ng-select>
                        </div>
                    </div>
                    <div class="col-md-12 col-xl-2">
                        <div class="form-group mt-5">
                            <a href="javascript:;" class="btn btn-primary btn-block">Search</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <mat-form-field appearance="standard" >
                        <mat-label>Filter</mat-label>
                        <input matInput (keyup)="applyFilter($event)" placeholder="Ex. Search" #input>
                      </mat-form-field>

                      <div class="">
                        <table mat-table [dataSource]="dataSource" matSort class="table table-vcenter text-nowrap table-bordered border-bottom">

                          <!-- ID Column -->
                          <ng-container matColumnDef="ID">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> ID </th>
                            <td mat-cell *matCellDef="let row"> {{row.ID}} </td>
                          </ng-container>

                          <!-- Title Column -->
                          <ng-container matColumnDef="ProjectTitle">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> ProjectTitle </th>
                            <td mat-cell *matCellDef="let row">
                                <div class="d-flex">
                                <span class="bg-{{row.projectTitleStatus}} dot-label1 me-2 mt-1"></span>
                                <span>{{row.projectTitle}}</span>
                                </div>
                            </td>
                          </ng-container>

                          <!-- Purchase from Column -->
                          <ng-container matColumnDef="Client">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Client </th>
                            <td mat-cell *matCellDef="let row"> {{row.client}} </td>
                          </ng-container>

                          <!-- Date Salary Column -->
                          <ng-container matColumnDef="Team">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Team </th>
                            <td mat-cell *matCellDef="let row">
                                <div class="avatar-list avatar-list-stacked d-flex flex-start"  *ngFor="let team of row.TeamMemeber">
                                    <span *ngIf="team.team1" class="avatar avatar brround" style="background-image: url({{team.team1}})"></span>
                                    <span *ngIf="team.team2" class="avatar avatar brround" style="background-image: url({{team.team2}})"></span>
                                    <span *ngIf="team.team3" class="avatar avatar brround" style="background-image: url({{team.team3}})"></span>
                                    <span *ngIf="team.team4" class="avatar avatar brround" style="background-image: url({{team.team4}})"></span>
                                    <span *ngIf="team.team5" class="avatar avatar brround" style="background-image: url({{team.team5}})"></span>
                                </div>
                            </td>
                          </ng-container>

                          <!-- Amount Date Column -->
                          <ng-container matColumnDef="Priority">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Priority </th>
                            <td mat-cell *matCellDef="let row">
                                <span class="badge badge-{{row.priorityStatus}}-light"> {{row.priority}}</span>
                            </td>
                          </ng-container>

                          <!-- PaidBy Date Column -->
                          <ng-container matColumnDef="StartDate">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> StartDate </th>
                            <td mat-cell *matCellDef="let row"> {{row.startDate}} </td>
                          </ng-container>

                          <!-- approval Date Column -->
                          <ng-container matColumnDef="Deadline">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Deadline </th>
                            <td mat-cell *matCellDef="let row" >{{row.deadline}}</td>
                          </ng-container>
                          <ng-container matColumnDef="Progress">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Progress </th>
                            <td mat-cell *matCellDef="let row" >
                                <div class="d-flex align-items-end justify-content-between">
                                    <h6 class="fs-12">{{row.workProgressText}}</h6>
                                    <h6 class="fs-12">{{row.workProgressPercentage}}%</h6>
                                </div>

                                <ngb-progressbar class="me-3" type="{{row.workProgressPercentageStatus}}" height="0.5rem" [value]="row.workProgressPercentage"></ngb-progressbar>
                            </td>
                          </ng-container>
                          <ng-container matColumnDef="Status">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Status </th>
                            <td mat-cell *matCellDef="let row" >
                                <span class="badge badge-{{row.status}}">{{row.statusText}}</span>
                            </td>
                          </ng-container>

                          <ng-container matColumnDef="Action">
                            <th mat-header-cell *matHeaderCellDef> Action </th>
                            <td mat-cell *matCellDef="let row">
                                <div class="d-flex">
                                    <a routerLink="/task-dashboard/view-tasks/" class="action-btns1" placement="top" ngbTooltip="View Task"><i class="feather feather-eye text-primary"></i></a>
                                    <a (click)="edit(editContent)" href="javascript:;" class="action-btns1" placement="top" ngbTooltip="View">
                                        <i class="feather feather-edit-2  text-success"></i>
                                    </a>
                                    <a (click)="removeData(row.ID)" href="javascript:;" class="action-btns1" placement="top" ngbTooltip="Delete">
                                        <i class="feather feather-trash-2 text-danger"></i>
                                    </a>
                                </div>
                            </td>
                          </ng-container>

                          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

                          <!-- Row shown when there is no matching data. -->
                          <tr class="mat-row" *matNoDataRow>
                            <td class="mat-cell" colspan="4">No data matching the filter "{{input.value}}"</td>
                          </tr>
                        </table>

                        <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" aria-label="Select page of users"></mat-paginator>
                      </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- End Row-->

<ng-template #editContent let-modal>
    <div class="modal-header">
        <h5 class="modal-title">Edit Task</h5>
        <button type="button" class="btn-close" (click)="modal.dismiss('Cross click')">
            <span class="nav-link">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="row">
            <div class="col-md-6">
                <div class="form-group">
                    <label class="form-label">Task ID</label>
                    <input class="form-control" placeholder="Text" value="001">
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label class="form-label">Task Title</label>
                    <input class="form-control" placeholder="Text" value="Design Updated">
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <div class="form-group">
                    <label class="form-label">Department:</label>
                    <ng-select name="attendance"  class="form-control custom-select" placeholder="Select Department">
                        <ng-option value="1" selected>Designing Department</ng-option>
                        <ng-option value="2">Development Department</ng-option>
                        <ng-option value="3">Marketing Department</ng-option>
                        <ng-option value="4">Human Resource Department</ng-option>
                        <ng-option value="5">Managers Department</ng-option>
                        <ng-option value="6">Application Department</ng-option>
                        <ng-option value="7">Support Department</ng-option>
                        <ng-option value="8">IT Department</ng-option>
                        <ng-option value="9">Technical Department</ng-option>
                        <ng-option value="10">Accounts Department</ng-option>
                    </ng-select>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label class="form-label">Assign To:</label>
                    <ng-select name="attendance"  class="form-control custom-select" placeholder="Select Employee">
                        <ng-option value="1" selected>Faith Harris</ng-option>
                        <ng-option value="2">Austin Bell</ng-option>
                        <ng-option value="3">Maria Bower</ng-option>
                        <ng-option value="4">Peter Hill</ng-option>
                        <ng-option value="5">Victoria Lyman</ng-option>
                        <ng-option value="6">Adam Quinn</ng-option>
                        <ng-option value="7">Melanie Coleman</ng-option>
                        <ng-option value="8">Max Wilson</ng-option>
                        <ng-option value="9">Amelia Russell</ng-option>
                        <ng-option value="10">Justin Metcalfe</ng-option>
                        <ng-option value="11">Ryan Young</ng-option>
                        <ng-option value="12">Jennifer Hardacre</ng-option>
                        <ng-option value="13">Justin Parr</ng-option>
                        <ng-option value="14">Julia Hodges</ng-option>
                        <ng-option value="15">Michael Sutherland</ng-option>
                    </ng-select>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label class="form-label">Task Priority:</label>
            <ng-select name="attendance"  class="form-control custom-select" placeholder="Select Priority">
                <ng-option value="1" selected>High</ng-option>
                <ng-option value="2">Medium</ng-option>
                <ng-option value="3">Low</ng-option>
            </ng-select>
        </div>
        <div class="row">
            <div class="col-md-6">
                <div class="form-group">
                    <label class="form-label">Form:</label>
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <div class="input-group-text">
                                <i class="feather feather-calendar"></i>
                            </div>
                        </div><input class="form-control fc-datepicker" placeholder="yyyy-mm-dd" value="16-06-2021" (click)="c.toggle()" name="dp" [(ngModel)]="model2" ngbDatepicker #c="ngbDatepicker">
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label class="form-label">To:</label>
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <div class="input-group-text">
                                <i class="feather feather-calendar"></i>
                            </div>
                        </div><input class="form-control fc-datepicker" placeholder="yyyy-mm-dd" value="12-02-2021" (click)="d.toggle()" name="dp" [(ngModel)]="model3" ngbDatepicker #d="ngbDatepicker">
                    </div>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label class="form-label">Description:</label>
            <div class="summernote">f you are going to use a passage of Lorem Ipsum, you need to be sure there isn't anything embarrassing hidden in the middle of text. All the Lorem Ipsum generators on the Internet tend to repeat predefined chunks as necessary</div>
        </div>
        <div class="form-group">
            <label for="form-label" class="form-label">Attachment:</label>
            <input class="form-control" type="file">
        </div>
        <div class="custom-controls-stacked d-md-flex">
            <label class="form-label mt-1 me-5">Work Status :</label>
            <label class="custom-control custom-radio success me-4">
                <input type="radio" class="custom-control-input" name="example-radios1" value="option1">
                <span class="custom-control-label">Completed</span>
            </label>
            <label class="custom-control custom-radio success me-4">
                <input type="radio" class="custom-control-input" name="example-radios1" value="option2" checked>
                <span class="custom-control-label">On hold</span>
            </label>
            <label class="custom-control custom-radio success">
                <input type="radio" class="custom-control-input" name="example-radios1" value="option3">
                <span class="custom-control-label">On Progress</span>
            </label>
        </div>
    </div>
    <div class="modal-footer">
        <div class="ms-auto">
            <a href="javascript:;" class="btn btn-outline-primary me-2" (click)="modal.dismiss('Cross click')"
                data-bs-dismiss="modal">Close</a>
            <a href="javascript:;" class="btn btn-success" (click)="modal.dismiss('Cross click')">Update</a>
        </div>
    </div>
</ng-template>